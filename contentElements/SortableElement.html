<template id='sortable-editview-template'>
    <div class="panel-body" style="height: 100%; margin-top: -10px">
        <div class="taskeditor-header">Sortable</div>

        <!-- ko if: (dataModel.parent.parent instanceof PageData)  -->
        <div>
            <span>Shuffle position on page:</span>
            <input class="checkbox-element" style="display: inline-block;" type="checkbox" data-bind="checked: dataModel.parent.includeInPageShuffle,click:function(){return true},clickBubble: false">
        </div>
        <!-- /ko -->


        <div>
            <label>Nr Of Sortable Elements: </label>
            <span data-bind="text: dataModel.elements().length"></span>

            <span style="cursor: pointer" data-bind="click:removeElem"><img width="20" height="20" src="/resources/icons/delete_dark.svg"/></span>
        </div>

        <br>
        <table>
            <thead>
            <tr>
                <th style="width: 50px;">Entry</th>
                <th>Linked Variables</th>
            </tr>
            </thead>
            <tbody data-bind="foreach: dataModel.elements">
            <tr>
                <td>
                    <div data-bind="text: $index()+1"></div>
                </td>
                <td>
                    <span data-bind="component: {name: 'LinkedVariableView', params: {variableObs: variable, allowedDatatypes: ['numeric'], relinkCallback: function() { $parent.relinkCallback($index()) } } }"></span>
                </td>
            </tr>
            </tbody>
        </table>
        
        <div>Add New Item: </div>
        <span>Idem Id: </span><input style="width: 120px; margin-left:3px; display: inline-block" type="text" class="form-control" data-bind="value:currentEntry">  <span style="cursor: pointer" data-bind="click:addElem"><img width="20" height="20" src="/resources/icons/add.svg"/></span></span>
        <br>

        <label>Sortable Elements: </label>
        <div style="max-height: 200px; overflow: auto; margin-left: 10px; border: 1px solid black; padding:5px">
            <div><span>Index:</span> <span style="margin-left: 30px">Element Ids:</span></div>
            <div data-bind="foreach: dataModel.elementIds">
                <div style="display: block; width: 100%">
                    <span>
                        <span style="display: inline-block; margin-left: 10px;"  data-bind="text:$index()+1"></span>
                         <span style="display: inline-block; margin-left: 50px"  data-bind="text: $data"></span>
                        <span style="cursor: pointer" data-bind=" event: {click: function(data,event) {$parent.removeElem($index())}}"><img width="20" height="20" src="/resources/icons/delete_dark.svg"/></span>
                    </span>
                </div>
            </div>
        </div>

        <div>
            <span>Show Question Header:</span>
            <input class="checkbox-element" style="display: inline-block;" type="checkbox" data-bind="checked: dataModel.enableTitle,click:function(){return true},clickBubble: false">
        </div>


        <div style="margin-left: 10px">
            <label>Activate Sorting / Disable Text-Editing: </label>
            <input style="margin-top: inherit; margin-bottom: inherit; display: inline-block;" type="checkbox" data-bind="checked: dataModel.activeSorting">
        </div>
    </div>
</template>

<template id='sortable-preview-template'>
    <!-- ko if: (dataModel.enableTitle())  -->
    <div data-bind="component: {name : 'editable-text-element-preview', params : dataModel.questionText}"></div>
    <br>
    <!-- /ko -->

    <div data-bind="style: {marginLeft: dataModel.margin, marginRight: dataModel.margin}">
        <ul class="sortableElement sortableOuter" id="sortableElementPrev">
            <!-- ko foreach: dataModel.elements -->
                <li class="sortableInner ui-state-default">
                    <div data-bind="component: {name : 'editable-text-element-preview', params : sortableText}"></div>
                </li>
            <!-- /ko -->
        </ul>
    </div>


</template>

<template id='sortable-playerview-template'>
    <!-- ko if: (dataModel.enableTitle())  -->
    <div data-bind="component: {name : 'editable-text-element-playerview', params : dataModel.questionText}"></div>
    <br>
    <!-- /ko -->

    <div data-bind="style: {marginLeft: dataModel.margin, marginRight: dataModel.margin}">
        <ul class="sortableElement sortableOuter pointer" id="sortableElementPlayer">
            <!-- ko foreach: dataModel.elements -->
            <li class="sortableInner ui-state-default">
                <div data-bind="component: {name : 'editable-text-element-playerview', params : sortableText}"></div>
            </li>
            <!-- /ko -->
        </ul>
    </div>

</template>